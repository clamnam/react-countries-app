{"ast":null,"code":"import _slicedToArray from\"/Users/jackmoloneyobrien/Desktop/College/Front-End/Cas/ca-countries-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from\"react\";import{Row,Col,Spinner,Image,Accordion,Container}from\"react-bootstrap\";import axios from\"axios\";import Weather from\"../components/Weather\";import Borders from\"../components/Borders\";//////api bits\n// const weatherKey = `c1ae794e4fbf4a4a82f173252230111`;\n// const weatherUrl = `http://api.weatherapi.com/v1/current.json?key=c1ae794e4fbf4a4a82f173252230111&q=`;\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var countryUrl=\"https://restcountries.com/v3.1/name/\";var borderUrl=\"https://restcountries.com/v3/alpha/\";var SingleCountry=function SingleCountry(){var _useParams=useParams(),name=_useParams.name;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),country=_useState2[0],setCountry=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),border=_useState4[0],setBorder=_useState4[1];var BorderCard=border.map(function(countries,i){return countries.map(function(country,j){return/*#__PURE__*/_jsx(Borders,{id:\"\".concat(i,\"-\").concat(j),name:country.name.common// flag={country.demonyms.flag}\n,region:country.region},\"\".concat(i,\"-\").concat(j));});});useEffect(function(){axios.get(\"\".concat(countryUrl).concat(name,\"?fullText=true\")).then(function(countryResponse){var countryData=countryResponse.data[0];setCountry(countryData);// Fetch data for each border\nvar borderRequests=countryData.borders.map(function(borderCode){return axios.get(\"\".concat(borderUrl).concat(borderCode));});// Use Promise.all to wait for all requests to complete\nPromise.all(borderRequests).then(function(borderResponses){var borderData=borderResponses.map(function(response){return response.data;});setBorder(borderData);}).catch(function(borderErrors){console.error(\"Error fetching border data: \",borderErrors);});}).catch(function(error){console.error(\"Error fetching country data: \",error);});},[name]);var WeatherData=function WeatherData(){if(country.name){return/*#__PURE__*/_jsx(Weather,{name:country.name.common});}};return/*#__PURE__*/_jsx(Container,{className:\"bg-off-white\",children:country?/*#__PURE__*/_jsxs(Row,{className:\"my-5  bg-off-white \",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"bd-title text-center mt-4\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\" \",country.name.common]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Image,{className:\" my-3\",src:country.flags.svg,fluid:true})}),/*#__PURE__*/_jsx(Col,{className:\"my-3\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{className:\"my-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Official Name:\"}),\" \",country.name.official]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Continent :\"}),\" \",country.region]}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Subregion :\"}),\" \",country.subregion]})]}),WeatherData(),WeatherData]})}),/*#__PURE__*/_jsxs(Accordion,{className:\"\",children:[\"      \",/*#__PURE__*/_jsxs(Accordion.Item,{eventKey:\"1\",children:[/*#__PURE__*/_jsx(Accordion.Header,{children:\"Map\"}),/*#__PURE__*/_jsx(Accordion.Body,{children:/*#__PURE__*/_jsx(\"iframe\",{title:\"map\",width:\"100%\",height:\"400\",frameBorder:\"5\",src:\"https://www.openstreetmap.org/export/embed.html?bbox=\".concat(country.latlng[1],\",\").concat(country.latlng[0],\"&zoom=4\")})})]}),/*#__PURE__*/_jsxs(Accordion.Item,{className:\"mb-3\",eventKey:\"2\",children:[/*#__PURE__*/_jsx(Accordion.Header,{children:\"Bordering Nations\"}),/*#__PURE__*/_jsx(Accordion.Body,{children:border[0]?/*#__PURE__*/_jsx(_Fragment,{children:BorderCard}):/*#__PURE__*/_jsx(\"p\",{children:\"No borders found for this country.\"})})]})]})]}):/*#__PURE__*/_jsx(Spinner,{animation:\"grow\"})});};export default SingleCountry;","map":{"version":3,"names":["useParams","useState","useEffect","Row","Col","Spinner","Image","Accordion","Container","axios","Weather","Borders","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","countryUrl","borderUrl","SingleCountry","_useParams","name","_useState","_useState2","_slicedToArray","country","setCountry","_useState3","_useState4","border","setBorder","BorderCard","map","countries","i","j","id","concat","common","region","get","then","countryResponse","countryData","data","borderRequests","borders","borderCode","Promise","all","borderResponses","borderData","response","catch","borderErrors","console","error","WeatherData","className","children","src","flags","svg","fluid","official","subregion","Item","eventKey","Header","Body","title","width","height","frameBorder","latlng","animation"],"sources":["/Users/jackmoloneyobrien/Desktop/College/Front-End/Cas/ca-countries-app/src/pages/SingleCountry.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { Row, Col, Spinner, Image, Accordion ,Container} from \"react-bootstrap\";\nimport axios from \"axios\";\n\nimport Weather from \"../components/Weather\";\nimport Borders from \"../components/Borders\";\n\n\n//////api bits\n// const weatherKey = `c1ae794e4fbf4a4a82f173252230111`;\n// const weatherUrl = `http://api.weatherapi.com/v1/current.json?key=c1ae794e4fbf4a4a82f173252230111&q=`;\nconst countryUrl = `https://restcountries.com/v3.1/name/`;\nconst borderUrl = `https://restcountries.com/v3/alpha/`;\n\nconst SingleCountry = () => {\n\tlet { name } = useParams();\n\tconst [country, setCountry] = useState(null);\n\tconst [border, setBorder] = useState([]);\n\n\tlet BorderCard = border.map((countries, i) => {\n\t\treturn countries.map((country, j) => (\n\t\t<Borders\n\t\t\tkey={`${i}-${j}`}\n\t\t\tid={`${i}-${j}`}\n\t\t\tname={country.name.common}\n\t\t\t// flag={country.demonyms.flag}\n\t\t\tregion={country.region}\n\t\t/>\n\t\t));\n\t  });\n\t  \n\t\n\tuseEffect(() => {\n\t\taxios\n\t\t.get(`${countryUrl}${name}?fullText=true`)\n\t\t.then((countryResponse) => {\n\t\t\tconst countryData = countryResponse.data[0];\n\n\t\t\tsetCountry(countryData);\n\n\n\t\n\t\t\t// Fetch data for each border\n\t\t\tconst borderRequests = countryData.borders.map((borderCode) => {\n\t\t\treturn axios.get(`${borderUrl}${borderCode}`);\n\t\t\t});\n\t\n\t\t\t// Use Promise.all to wait for all requests to complete\n\t\t\tPromise.all(borderRequests)\n\t\t\t.then((borderResponses) => {\n\t\t\t\tconst borderData = borderResponses.map((response) => response.data);\n\t\t\t\tsetBorder(borderData);\n\t\t\t})\n\t\t\t.catch((borderErrors) => {\n\t\t\t\tconsole.error(\"Error fetching border data: \", borderErrors);\n\t\t\t});\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error(\"Error fetching country data: \", error);\n\t\t});\n\t}, [name]);\n\t\n    let WeatherData = () => {\n        if (country.name) {\n            return <Weather name={country.name.common} />;\n        }\n    };\n\n\n\treturn (\n\t\t<Container  className=\"bg-off-white\">\n\t\t\t{country ? (\n\t\t\t<Row className=\"my-5  bg-off-white \">\n\t\t\t\t\t\t\t\t<h1 className=\"bd-title text-center mt-4\">\n\t\t\t\t\t\t\t<b> {country.name.common}</b>\n\n\t\t\t\t\t\t</h1>\n\t\t\t\t<Col><Image className=\" my-3\" src={country.flags.svg} fluid/></Col>\n\t\t\t\t<Col className=\"my-3\">\n\t\t\t\t\t\n\n\n<Row>\n<Col className=\"my-4\">\n\n<h4>\n\t<b>Official Name:</b> {country.name.official}\n</h4>\n<h4>\n\t<b>Continent :</b> {country.region}\n</h4>\n<h4>\n\t<b>Subregion :</b> {country.subregion}\n</h4>\n\n\n</Col>\n\n\t\t\t\t\t\t\t{WeatherData()}\n\t\t\t\t\t\t\t{WeatherData}\n\n\n</Row>\n\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Accordion className=\"\">\t\t\t\t\t\t<Accordion.Item eventKey=\"1\">\n\t\t\t\t\t\t\t<Accordion.Header>Map</Accordion.Header>\n\t\t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t\t<iframe\n\t\t\t\t\t\t\t\t\ttitle=\"map\"\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\theight=\"400\"\n\t\t\t\t\t\t\t\t\tframeBorder=\"5\"\n\t\t\t\t\t\t\t\t\tsrc={`https://www.openstreetmap.org/export/embed.html?bbox=${country.latlng[1]},${country.latlng[0]}&zoom=4`}\n\t\t\t\t\t\t\t\t></iframe>\n\t\t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t\t</Accordion.Item><Accordion.Item className=\"mb-3\"eventKey=\"2\">\n    \t\t\t\t\t\t<Accordion.Header>\n\t\t\t\t\t\t\tBordering Nations\n\t\t\t\t\t\t\t</Accordion.Header>\n    \t\t\t\t\t\t<Accordion.Body>\n\t\t\t\t\t\t\t\t{border[0] ? (\n\t\t\t\t\t\t\t\t\t<>{BorderCard}</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<p>No borders found for this country.</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\n\n    \t\t\t\t\t\t</Accordion.Body>\n\t\t\t\t\t\t</Accordion.Item></Accordion>\n\t\t\t\t</Row>\n\t\t\t\t) : (\n\t\t\t\t\t<Spinner animation=\"grow\" />\n\t\t\t\t)}\n\t\t\t\t</Container>\n\t);\n};\n\nexport default SingleCountry;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}